version: '3'

networks:
  internal:

services:
  reverse-proxy:
    build:
      context: image/
    ports:
      - 8001:8443
    networks:
      - internal
    volumes:
      - ./Caddyfile:/etc/caddy/Caddyfile:ro
      - ./certificates:/certificates:ro
      - ./users.json:/users.json

  ui:
    image: jaedle/vinotheque:ui-latest
    networks:
      - internal

  service:
    image: jaedle/vinotheque:service-latest
    networks:
      - internal
